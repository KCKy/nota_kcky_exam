{
	"additionalNodes": [],
	"additionalParameters": {
		"root": {
			"height": 148,
			"width": 221
		}
	},
	"inputs": [ {
		"command": "Variable",
		"name": "requests"
	}, {
		"command": "Variable",
		"name": "destination"
	}, {
		"command": "Variable",
		"name": "myId"
	} ],
	"outputs": [],
	"properties": {
		"A7RDLjiCX7iWFevIKYUMMIB2hSH7BXGc": {
			"height": 90,
			"title": "Check if our request was accepted",
			"width": 300,
			"x": 745,
			"y": 13
		},
		"CK8TBLrgqSZegDnrakVb68wR8vi8zXNx": {
			"height": 94,
			"title": "Register for atlas transport",
			"width": 260,
			"x": 746,
			"y": -124
		},
		"EnQrnrEegaaHQtUD48EUc8vVDc5qqyOH": {
			"height": 72,
			"title": "wait",
			"width": 131,
			"x": 1847,
			"y": 214
		},
		"KnBc9XsaZhLRtDsQAQoRhzfzilUhanLf": {
			"height": 86,
			"title": "Wait to not be carried by an atlas",
			"width": 348,
			"x": 744,
			"y": 258
		},
		"ck6Yl9PFE9GvZK4SGBp511Tm8HGd0mNf": {
			"height": 54,
			"title": "success",
			"width": 132,
			"x": 1560,
			"y": 60
		},
		"eZilIqgNpHZs6kCK3pRpiRzxVw7MmJmn": {
			"height": 72,
			"title": "Stop moving",
			"width": 199,
			"x": 1849,
			"y": 142
		},
		"eh56mtlDNybgtbCoZfhn1hEy3JUSFYlV": {
			"height": 60,
			"title": "sequence",
			"width": 143,
			"x": 550,
			"y": 32
		},
		"hzxj7DGJy8d6qLAPF1j9M3fKj5L01nLE": {
			"height": 94,
			"title": "Unregister",
			"width": 294,
			"x": 404,
			"y": 117
		},
		"j7VApQdAjeL9WueZBVzaZsCSR7L5pKRr": {
			"height": 60,
			"title": "Wait for the atlas to take us",
			"width": 254,
			"x": 1555,
			"y": 146
		},
		"jACBcV1JO1d7NnFCk1oyQEsHnE8IqF5Q": {
			"height": 93,
			"title": "Move without atlas",
			"width": 238,
			"x": 1102,
			"y": -29
		},
		"lSUz6n68ktAZFb0PDz0KmrIScXOub4BG": {
			"height": 70,
			"title": "selector",
			"width": 131,
			"x": 244,
			"y": 27
		},
		"tALH3oR5zeO4AGlbNsK0vRQsvrDKHaDO": {
			"height": 103,
			"title": "Unregister",
			"width": 299,
			"x": 744,
			"y": 146
		},
		"uwg4x5l46DXE0UNcFUA9XAqI0j86B85e": {
			"height": 93,
			"title": "Atlas failed, continue moving",
			"width": 242,
			"x": 1845,
			"y": 292
		},
		"vVPxSCbvS0Bv1a9ONcJTGsbRSexlVpcz": {
			"height": 90,
			"title": "Check if we were taken",
			"width": 418,
			"x": 1096,
			"y": 71
		}
	},
	"roles": [ {
		"categories": [],
		"name": "Role 0"
	} ],
	"root": {
		"children": [ {
			"children": [ {
				"children": [],
				"id": "CK8TBLrgqSZegDnrakVb68wR8vi8zXNx",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "bb[requests][#bb[requests]+1]"
				}, {
					"name": "value",
					"value": "myId"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [ {
					"children": [],
					"id": "jACBcV1JO1d7NnFCk1oyQEsHnE8IqF5Q",
					"nodeType": "luaCommand",
					"parameters": [ {
						"name": "unit",
						"value": "myId"
					}, {
						"name": "position",
						"value": "bb[destination]"
					}, {
						"name": "scriptName",
						"value": "nota_krejci_exam.moveUnit"
					} ],
					"scriptName": "nota_krejci_exam.moveUnit"
				}, {
					"children": [ {
						"children": [],
						"id": "ck6Yl9PFE9GvZK4SGBp511Tm8HGd0mNf",
						"nodeType": "success",
						"parameters": []
					}, {
						"children": [ {
							"children": [],
							"id": "eZilIqgNpHZs6kCK3pRpiRzxVw7MmJmn",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "units",
								"value": "{myId}"
							}, {
								"name": "scriptName",
								"value": "nota_kcky_exam.stop"
							} ],
							"scriptName": "nota_kcky_exam.stop"
						}, {
							"children": [],
							"id": "EnQrnrEegaaHQtUD48EUc8vVDc5qqyOH",
							"nodeType": "wait",
							"parameters": [ {
								"name": "time",
								"value": 60
							} ]
						}, {
							"children": [],
							"id": "uwg4x5l46DXE0UNcFUA9XAqI0j86B85e",
							"nodeType": "luaCommand",
							"parameters": [ {
								"name": "unit",
								"value": "myId"
							}, {
								"name": "position",
								"value": "bb[destination]"
							}, {
								"name": "scriptName",
								"value": "nota_krejci_exam.moveUnit"
							} ],
							"scriptName": "nota_krejci_exam.moveUnit"
						} ],
						"id": "j7VApQdAjeL9WueZBVzaZsCSR7L5pKRr",
						"nodeType": "sequence",
						"parameters": []
					} ],
					"id": "vVPxSCbvS0Bv1a9ONcJTGsbRSexlVpcz",
					"nodeType": "luaCondition",
					"parameters": [ {
						"name": "expression",
						"value": "Spring.GetUnitTransporter(myId)"
					}, {
						"name": "repeat",
						"value": "true"
					} ]
				} ],
				"id": "A7RDLjiCX7iWFevIKYUMMIB2hSH7BXGc",
				"nodeType": "luaCondition",
				"parameters": [ {
					"name": "expression",
					"value": "Contains(bb[requests], myId)"
				}, {
					"name": "repeat",
					"value": "true"
				} ]
			}, {
				"children": [],
				"id": "tALH3oR5zeO4AGlbNsK0vRQsvrDKHaDO",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "var",
					"value": "bb[requests]"
				}, {
					"name": "value",
					"value": "FilterTaken(bb[requests], {myId})"
				}, {
					"name": "scriptName",
					"value": "store"
				} ],
				"scriptName": "store"
			}, {
				"children": [],
				"id": "KnBc9XsaZhLRtDsQAQoRhzfzilUhanLf",
				"nodeType": "luaCommand",
				"parameters": [ {
					"name": "condition",
					"value": "not Spring.GetUnitTransporter(myId)"
				}, {
					"name": "scriptName",
					"value": "waitUntil"
				} ],
				"scriptName": "waitUntil"
			} ],
			"id": "eh56mtlDNybgtbCoZfhn1hEy3JUSFYlV",
			"nodeType": "sequence",
			"parameters": []
		}, {
			"children": [],
			"id": "hzxj7DGJy8d6qLAPF1j9M3fKj5L01nLE",
			"nodeType": "luaCommand",
			"parameters": [ {
				"name": "var",
				"value": "bb[requests]"
			}, {
				"name": "value",
				"value": "FilterTaken(bb[requests], {myId})"
			}, {
				"name": "scriptName",
				"value": "store"
			} ],
			"scriptName": "store"
		} ],
		"id": "lSUz6n68ktAZFb0PDz0KmrIScXOub4BG",
		"nodeType": "selector",
		"parameters": [ {
			"name": "active",
			"value": "false"
		} ]
	}
}